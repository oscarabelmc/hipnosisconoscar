<header role="banner">
    <div
        id="header-overlay"
        class="bg-black opacity-0 fixed top-0 left-0 right-0 z-10 h-24 transition-opacity duration-300"
    >
    </div>
    <div class="fixed top-0 left-0 right-0 z-20">
        <div class="mx-auto max-w-6xl px-4 flex justify-between items-center h-24">
            <figure class="max-w-55">
                <a href="#inicio" aria-label="Ir al inicio">
                    <img
                        src="/images/main-logo.webp"
                        alt="Oscar Abel Mascareno Cervantes - Psicólogo"
                        class="w-full"
                    />
                </a>
            </figure>

            <!-- Desktop Navigation -->
            <nav
                class="hidden md:flex items-center gap-8"
                role="navigation"
                aria-label="Navegación principal"
            >
                <a
                    href="#inicio"
                    class="text-white font-arvo text-lg hover:text-primary transition-colors duration-200"
                    >Inicio</a
                >
                <a
                    href="#nosotros"
                    class="text-white font-arvo text-lg hover:text-primary transition-colors duration-200"
                    >Nosotros</a
                >
                <a
                    href="#contacto"
                    class="text-white font-arvo text-lg hover:text-primary transition-colors duration-200"
                    >Contacto</a
                >
            </nav>

            <!-- Mobile Menu Button -->
            <button
                id="menu-toggle"
                class="md:hidden inline-block max-w-12 p-1 bg-transparent border-none"
                aria-label="Abrir menú de navegación"
                aria-expanded="false"
                aria-controls="mobile-menu"
            >
                <img src="/svgs/menu-icon.svg" alt="" class="w-full" aria-hidden="true" />
            </button>
        </div>

        <!-- Mobile Menu -->
        <div
            id="mobile-menu"
            class="md:hidden fixed top-24 left-0 right-0 bg-black bg-opacity-95 transform -translate-y-full transition-transform duration-300 ease-in-out"
            role="navigation"
            aria-label="Navegación móvil"
        >
            <nav class="flex flex-col items-center py-8 gap-6">
                <a
                    href="#inicio"
                    class="mobile-nav-link text-white font-arvo text-xl hover:text-primary transition-colors duration-200"
                    >Inicio</a
                >
                <a
                    href="#nosotros"
                    class="mobile-nav-link text-white font-arvo text-xl hover:text-primary transition-colors duration-200"
                    >Nosotros</a
                >
                <a
                    href="#contacto"
                    class="mobile-nav-link text-white font-arvo text-xl hover:text-primary transition-colors duration-200"
                    >Contacto</a
                >
            </nav>
        </div>
    </div>

    <script>
        // Header scroll effect
        const handleScroll = () => {
            const overlay = document.getElementById('header-overlay');
            if (!overlay) return;

            const scrollPosition = window.scrollY;
            const viewportHeight = window.innerHeight;
            const scrollThreshold = viewportHeight * 0.3;

            if (scrollPosition >= scrollThreshold) {
                overlay.classList.remove('opacity-0');
                overlay.classList.add('opacity-40');
            } else {
                overlay.classList.remove('opacity-40');
                overlay.classList.add('opacity-0');
            }
        };

        window.addEventListener('load', handleScroll);
        window.addEventListener('scroll', handleScroll);

        // Mobile menu toggle
        const menuToggle = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');

        if (menuToggle && mobileMenu) {
            menuToggle.addEventListener('click', () => {
                const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
                menuToggle.setAttribute('aria-expanded', (!isExpanded).toString());

                if (isExpanded) {
                    mobileMenu.classList.add('-translate-y-full');
                    mobileMenu.classList.remove('translate-y-0');
                } else {
                    mobileMenu.classList.remove('-translate-y-full');
                    mobileMenu.classList.add('translate-y-0');
                }
            });

            // Close menu when clicking on a link
            mobileNavLinks.forEach((link) => {
                link.addEventListener('click', () => {
                    menuToggle.setAttribute('aria-expanded', 'false');
                    mobileMenu.classList.add('-translate-y-full');
                    mobileMenu.classList.remove('translate-y-0');
                });
            });
        }
    </script>
</header>
